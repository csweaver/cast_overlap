(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r,a,o,c=n(0),l=n.n(c),i=n(17),s=n.n(i),u=(n(26),n(7)),h=n(8),p=n(10),v=n(9),m=n(11),d=(n(27),"http://localhost:5000/api/search"),f=function(e){return function(t){return console.log("".concat(d,"?title=").concat(e)),fetch("".concat(d,"?title=").concat(e),{credentials:"same-origin"}).then(function(e){if(e.status>=400&&e.status<600)throw new Error("Uhhh... IDK? No  movie");return e.json()}).then(function(e){t(function(e){return{type:"got movie search results",movies:e.possibilities,receivedAt:Date.now()}}(e))}).catch(function(e){console.log(e),console.log("something went wrong")})}},b=function(e){return{type:"got venn results",results:e,receivedAt:Date.now()}},y=n(4),E=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"IMDB Venn Diagram"),l.a.createElement("p",null,"Which actors are in other movies?"),l.a.createElement(j,null),l.a.createElement(w,null))}}]),t}(c.Component),j=Object(y.b)(function(e){return{search_results:e.search_results,selected_movies:e.selected_movies}})(r=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleSearch",value:function(e,t){13===e.charCode&&((0,this.props.dispatch)(f(e.target.value)),e.target.value="")}},{key:"handleClear",value:function(e){(0,this.props.dispatch)({type:"clear unselected",currently_selected:this.props.selected_movies.selected})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"m_search"},"Search Movie or TV show "),l.a.createElement(g,{onfocus:this.handleSearch.bind(this),onkeypress:this.handleSearch.bind(this)}),l.a.createElement(O,{clear:this.handleClear.bind(this),movies:this.props.search_results.movies}))}}]),t}(c.Component))||r,g=function(e){return l.a.createElement("input",{id:"m_search",onKeyPress:e.onkeypress,type:"text"})},O=function(e){var t=e.movies.map(function(e){return l.a.createElement(k,{mid:e.id,key:e.title,title:e.title})});return l.a.createElement("div",null,l.a.createElement("h2",null,"Movies ",l.a.createElement("button",{onClick:e.clear},"Clear")),t)},k=Object(y.b)(function(e){return{}})(a=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleCheck",value:function(e){var t=e.target,n=this.props.dispatch;t.checked?n({type:"add movie to selection",selected:this.props.mid}):n(function(e){return{type:"remove movie from selection",deselected:e}}(this.props.mid))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("input",{onClick:this.handleCheck.bind(this),type:"checkbox"}),l.a.createElement("span",null,this.props.title))}}]),t}(c.Component))||a,w=Object(y.b)(function(e){return{selected_movies:e.selected_movies,overlap:e.overlap}})(o=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleVenn",value:function(){var e;(0,this.props.dispatch)((e=this.props.selected_movies.selected,function(t){var n=e.map(function(e){return"movies=".concat(e)});return n=n.join("&"),fetch("".concat("http://localhost:5000/api/venn","?").concat(n),{credentials:"same-origin"}).then(function(e){if(e.status>=400&&e.status<600)throw new Error("Uhhh... IDK? No  movie");return e.json()}).then(function(e){t(b(e))}).catch(function(e){console.log(e),console.log("something went wrong")})}))}},{key:"render",value:function(){var e="";if(this.props.overlap.overlap.movies.length){var t=this.props.overlap.overlap.movies.map(function(e){return l.a.createElement("th",{key:e.id},e.title)}),n=l.a.createElement("tr",null,l.a.createElement("td",null,"No overlap"));this.props.overlap.overlap.actors.length&&(n=this.props.overlap.overlap.actors.map(function(e,t){var n=l.a.createElement("td",{key:e[0].id},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e[0].url},e[0].actor)),r=e.map(function(e,t){return l.a.createElement("td",{key:"".concat(e.character,"-").concat(t)},e.character)});return l.a.createElement("tr",{key:t},n,r)})),e=l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Actor"),t)),l.a.createElement("tbody",null,n))}return l.a.createElement("div",null,l.a.createElement("h2",null,"Character Overlap",l.a.createElement("button",{onClick:this.handleVenn.bind(this)}," Calculate")),e)}}]),t}(c.Component))||o,_=E;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(1),D=n(19),S=n(3),A=Object(C.combineReducers)({basic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"basic type"===(arguments.length>1?arguments[1]:void 0).type?Object(S.a)({},e):e},search_results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[]},t=arguments.length>1?arguments[1]:void 0;if("got movie search results"===t.type){var n=e.movies;return n=n.concat(t.movies),Object(S.a)({},e,{movies:n})}if("clear unselected"===t.type){var r=e.movies.filter(function(e){return t.currently_selected.includes(e.id)});return Object(S.a)({},e,{movies:r})}return e},selected_movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selected:[]},t=arguments.length>1?arguments[1]:void 0;if("add movie to selection"===t.type){var n=e.selected;return n.push(t.selected),Object(S.a)({},e,{selected:n})}if("remove movie from selection"===t.type){var r=e.selected;return r=r.filter(function(e){return e!==t.deselected}),Object(S.a)({},e,{selected:r})}return e},overlap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overlap:{movies:[],actors:[]}},t=arguments.length>1?arguments[1]:void 0;return"got venn results"===t.type?Object(S.a)({},e,{overlap:t.results}):e}}),I=n(20),M=Object(C.createStore)(A,Object(I.composeWithDevTools)(Object(C.applyMiddleware)(D.a)));s.a.render(l.a.createElement(y.a,{store:M},l.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.2b9770d9.chunk.js.map